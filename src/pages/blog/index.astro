---
import { getCollection } from "astro:content";
import BaseHead from "../../components/BaseHead.astro";
import Footer from "../../components/Footer.astro";
import FormattedDate from "../../components/FormattedDate.astro";
import Header from "../../components/Header.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../../consts";
import BaseLayout from "@/layouts/BaseLayout.astro";
const posts = (await getCollection("blog")).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<BaseLayout
	title="张泰的博客 | zhangt.ai"
	description="This template helps you build apps with Astro, Tailwind CSS, and shadcn/ui."
>
	<div
		class="mx-auto grid w-full max-w-5xl min-w-0 content-center items-start gap-8 p-4 pt-2"
	>
		<div class="max-w-3xl mx-auto px-6 py-16">
			<h1 class="text-3xl font-bold mb-12 text-foreground">Blog</h1>
			<div class="space-y-2">
				{
					posts.map((post) => (
						<article class=" border-b border-border">
							<div class="shrink-0 min-w-24 text-sm font-semibold tracking-widest text-muted-foreground">
								<FormattedDate date={post.data.pubDate} />
							</div>
							<div class="flex-1 min-w-0">
								<h2 class="text-lg font-semibold text-foreground hover:text-muted-foreground transition-colors duration-200 cursor-pointer line-clamp-2">
									<a href={`/blog/${post.id}/`}>{post.data.title}</a>
								</h2>
							</div>
						</article>
					))
				}
			</div>
		</div>
	</div>
</BaseLayout>
